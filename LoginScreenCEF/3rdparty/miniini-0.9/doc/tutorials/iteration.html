<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META NAME="generator" CONTENT="http://txt2tags.sf.net">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<LINK REL="stylesheet" TYPE="text/css" HREF="../docstyle.css">
<TITLE>Iterating over INI data</TITLE>
</HEAD>
<BODY>

<DIV CLASS="header" ID="header">
<H1>Iterating over INI data</H1>
</DIV>

<DIV CLASS="body" ID="body">
<P>
Not always do you know what sections or tags will be INI files you read. A game,
for instance, might store properties of game object types in their own INI 
sections without knowing number of types available. In such cases, you need to
access sections without using their names. You can do this in MiniINI by 
iterating over sections in a file or tags in a section.
</P>
<H2>Iterating over sections in a file</H2>
<P>
To iterate over sections in an <I>INIFile</I>, use the <I><A HREF="../html/classINIFile.html#a65c96c2d9c7eed06c6d25785aeb2bb8e">Next</A></I> method. This 
method increments the index used internally by <I>INIFile</I> to point to the
current section. By default, this index points before the first section, so the
first call to <I>Next</I> will move to the first element. <I>Next</I> returns <U>true</U>
if there are more sections or <U>false</U> if we're at the last section.
</P>
<P>
To access current section, we use the same <I>GetSection</I> method we use to
access sections by name, but instead of a section name we pass an empty string 
(<U>""</U>). In the example below, we use the <I><A HREF="../html/classINISection.html#a4805dae8c6f3d7534e814abac7daf27a">GetName</A></I> method to print 
names of sections we're iterating over. There is also a <I><A HREF="../html/classINISection.html#a191bbf02275e6e1faa7b1f1529dfec28">GetNameSTL</A></I>
method that returns a C++ string.
</P>
<P>
Example:
</P>
<PRE>
//iterate over all sections in a file and print their names
INIFile ini;
ini.OpenFile("test.ini");
while(ini.Next())
{
    std::cout &lt;&lt; ini.GetSection("")-&gt;GetName() &lt;&lt; std::endl;
}
</PRE>
<P></P>
<P>
Sections are iterated in alphabetic order. To reset iteration back to the start,
use the <I><A HREF="../html/classINIFile.html#aaa4e120e894f53a0c9adee365982aa5e">Reset</A></I> method. Reset takes no parameters and returns nothing.
</P>
<H2>Iterating over tags in a section</H2>
<P>
Iteration over tags in an INISection is similar to iteration over sections, 
using <I><A HREF="../html/classINISection.html#accfb6325fc0d86cf119fb849378dfde9">Next</A></I> method to move to the next element and <I><A HREF="../html/classINISection.html#a1af55e2f3757d2dbbf9083d2912bfc75">Reset</A></I> to 
move back to start. Additionally, you can use the <I><A HREF="../html/classINISection.html#a8267f2178972d7e06f3ff4c0965fdd6c">CurrentTag</A></I> method to
get the name of the current tag as a C string and <I><A HREF="../html/classINISection.html#a093881e87673a66d0aeaa193e6f933df">CurrentTagSTL</A></I> as a 
C++ <I>std::string</I>. Like sections, tags are iterated in alphabetic order.
</P>
<P>
Similarly to current section, you can access current tag by passing an empty
string to <I>ReadXXX</I> methods. This also works with <I>ReadMultiXXX</I> and
<I>MultiValSize</I> (which work with multi value tags) but not with <I>ReadXXXs</I>
or <I>ArraySize</I> (which work with sequences of numbered tags). 
</P>
<P>
Example of iteration over tags in an INISection:
</P>
<PRE>
//iterate over all tags in a section, print their names and values
INIFile ini;
ini.OpenFile("test.ini");
INISection * section = ini.GetSection("test");
const char * str; //STL: std::string str
while(section-&gt;Next())
{
    str = section-&gt;ReadString("", str);
    std::cout &lt;&lt; section-&gt;CurrentTag() &lt;&lt; "=" &lt;&lt; str &lt;&lt; std::endl; 
    //STL: std::cout &lt;&lt; section-&gt;CurrentTagSTL() &lt;&lt; "=" &lt;&lt; str &lt;&lt; std::endl; 
}
</PRE>
<P></P>
<P>
<B>Note:</B> Due to internal structure of MiniINI code, if you access tags this 
way, warnings emitted by <I>ReadXXX</I> methods will be unable to print names of 
tags concerned. 
</P>
<HR NOSHADE SIZE=1>
<P></P>
<P>
<B>Last update: 07-07-2010</B>
</P>
</DIV>

<!-- html code generated by txt2tags 2.5 (http://txt2tags.sf.net) -->
<!-- cmdline: txt2tags -t html -v -\-encoding utf-8 -\-css-sugar -\-style ../docstyle.css ./doc/tutorials/iteration.txt -->
</BODY></HTML>
